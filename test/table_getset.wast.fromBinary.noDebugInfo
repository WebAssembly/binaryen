(module
 (type $none_=>_none (func))
 (type $[mut:i32] (array (mut i32)))
 (type $funcref_=>_none (func (param funcref)))
 (type $i32_=>_i32 (func (param i32) (result i32)))
 (type $i32_=>_funcref (func (param i32) (result funcref)))
 (type $i32_=>_externref (func (param i32) (result externref)))
 (table $0 2 externref)
 (table $1 3 funcref)
 (elem (table $1) (i32.const 1) func $0)
 (table $2 2 (ref null data))
 (func $0
  (nop)
 )
 (func $1
  (table.set $1 
   (i32.const 2)
   (table.get $1
    (i32.const 1)
   )
  )
 )
 (func $2 (param $0 i32) (result externref)
  (table.get $0
   (local.get $0)
  )
 )
 (func $3 (param $0 i32) (result funcref)
  (table.get $1
   (local.get $0)
  )
 )
 (func $4 (param $0 funcref)
  (table.set $1 
   (i32.const 0)
   (local.get $0)
  )
 )
 (func $5 (param $0 i32) (result i32)
  (ref.is_null
   (call $3
    (local.get $0)
   )
  )
 )
 (func $6
  (call $1)
  (drop
   (call $2
    (i32.const 0)
   )
  )
  (drop
   (call $3
    (i32.const 0)
   )
  )
  (drop
   (call $5
    (i32.const 0)
   )
  )
  (table.set $2 
   (i32.const 0)
   (array.new_default_with_rtt $[mut:i32]
    (i32.const 3)
    (rtt.canon $[mut:i32])
   )
  )
  (drop
   (array.get $[mut:i32]
    (ref.cast
     (table.get $2
      (i32.const 0)
     )
     (rtt.canon $[mut:i32])
    )
    (i32.const 0)
   )
  )
 )
)

