;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.

;; Test that we can write a binary without erroring when using stack switching
;; without GC. This verifies we can emit continuation types properly even when
;; GC is disabled

;; RUN: wasm-opt %s --enable-stack-switching --roundtrip -S -o - | filecheck %s

(module
 (type $proc (func))
 (type $cont (cont $proc))

 (func $main
  (drop
   (cont.new $cont
    (ref.func $main)
   )
  )
 )
)
