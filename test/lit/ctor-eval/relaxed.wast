;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: wasm-ctor-eval %s --ctors=return,drop,passthrough --quiet -all -S -o - | filecheck %s

;; The relaxed SIMD operation here cannot be optimized by wasm-ctor-eval, as we
;; do not know how the VM that the code will run on should execute it. We can
;; optimize nothing here, and should not error.

(module
 (func $return (export "return") (result v128)
  (f32x4.relaxed_max
   (v128.const i32x4 0x00000000 0x00000000 0x00000000 0x00000000)
   (v128.const i32x4 0x00000000 0x00000000 0x00000000 0x00000000)
  )
 )

 (func $drop (export "drop")
  (drop
   (call $return)
  )
 )

 (func $passthrough (export "passthrough") (result v128)
  (call $return)
 )
)

