;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.

;; Regression test for a bug where types on globals were not collected, so if
;; they weren't used anywhere else they were not emitted in the output.

;; RUN: wasm-opt -all %s -S -o - | filecheck %s

(module $parse
  ;; CHECK:      (type $t (struct ))
  (type $t (struct))
  ;; CHECK:      (global $g (ref null $t) (ref.null none))
  (global $g (ref null $t) (ref.null $t))
)
