;; NOTE: Assertions have been generated by update_lit_checks.py --output=fuzz-exec and should not be edited.

;; RUN: wasm-opt %s -all --fuzz-exec-before --fuzz-exec-second=%s.second.wast -q -o /dev/null 2>&1 | filecheck %s

;; Test that the fuzz_shell.js file will run a second wasm file that is
;; provided, and call its exports as well as the first module's.

(module
  ;; CHECK:      [fuzz-exec] calling first
  ;; CHECK-NEXT: [fuzz-exec] note result: first => 42
  (func $first (export "first") (result i32)
    (i32.const 42)
  )
)

