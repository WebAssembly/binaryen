;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.

;; Check that we still parse the legacy i31.new instruction.

;; RUN: wasm-opt %s -all -S -o - | filecheck %s

(module
 ;; CHECK:      (func $test (type $0) (result i31ref)
 ;; CHECK-NEXT:  (ref.i31
 ;; CHECK-NEXT:   (i32.const 0)
 ;; CHECK-NEXT:  )
 ;; CHECK-NEXT: )
 (func $test (result i31ref)
  (i31.new
   (i32.const 0)
  )
 )
)
