;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: wasm-opt -all %s.wasm -q -S -o - | filecheck %s

;; Test that data segment names roundtrip properly. The wasm file contains
;;
;; (module
;;   (memory $mem 10)
;;   (data $passive1 "passive1")
;;   (data $passive2 "passive2")
;;   (data $active1 (offset i32.const 0) "active1")
;;   (data $active2 (offset i32.const 0) "active2")
;; )
;;
;; But the names section is *reversed*: the name of the last data segment is
;; first, and so forth. We must still give the proper segments their names.

;; CHECK:      (memory $mem 10)

;; CHECK:      (data $passive1 "passive1")

;; CHECK:      (data $passive2 "passive2")

;; CHECK:      (data $active1 (i32.const 0) "active1")

;; CHECK:      (data $active2 (i32.const 0) "active2")
