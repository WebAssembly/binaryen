;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.

;; Test the flag to import from a given module in fuzzer generation.

;; Generate fuzz output using this wat as initial contents, and with the flag to
;; preserve imports and exports. There should be no new imports or exports, and
;; old ones must stay the same.

;; RUN: wasm-opt %s.ttf --initial-fuzz=%s -all -ttf --fuzz-import=%s.import.wast \
;; RUN:          -S -o - | filecheck %s

(module
  ;; This existing import will be made a non-import, but the ones from the
  ;; imported module will be ok.
  (import "a" "b" (func $import))
)

