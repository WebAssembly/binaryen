;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.

;; Regression test for a binary parser bug in which memory names on data
;; segments were not properly updated to use memory names from the name section.

;; RUN: wasm-as %s -g -o %t.wasm
;; RUN: wasm-opt %t.wasm -S -o - | filecheck %s

(module
 ;; CHECK:      (memory $mem0 100)
 (memory $mem0 100)
 (data (offset (i32.const 0)) "")
)
;; CHECK:      (data (i32.const 0) "")
