;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.
;; RUN: wasm-opt %s -all -S -o - | filecheck %s

;; Test handling of multivalue operations in text (unlike multivalue.wast which
;; does a binary roundtrip).

(module
 ;; CHECK:      (func $unreachable-tuple-high-index (type $0)
 ;; CHECK-NEXT:  (tuple.extract 3 2
 ;; CHECK-NEXT:   (return)
 ;; CHECK-NEXT:  )
 ;; CHECK-NEXT: )
 (func $unreachable-tuple-high-index
  ;; We normally compute the tuple size (3 in the input) from the type. Here
  ;; the type is unreachable, so we can't do that, but we must make sure to pick
  ;; a size big enough for the index, 2.
  (tuple.extract 3 2
   (return)
  )
 )
)
