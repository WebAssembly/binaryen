;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: foreach %s %t wasm-opt -all --gufa --nominal -S -o - | filecheck %s

(module
  (func $externals (export "externals") (param $ext externref) (param $any anyref)
    ;; We must not turn these into unreachable code, as the function is
    ;; exported.
    (drop
      (ref.as_data
        (extern.internalize
          (local.get $ext)
        )
      )
    )
    (drop
      (extern.externalize
        (local.get $any)
      )
    )
  )
)
