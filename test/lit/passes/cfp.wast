;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: wasm-opt %s --cfp -all -S -o - | filecheck %s

(module
  ;; CHECK:      (type $none_=>_none (func))

  ;; CHECK:      (type $never-created (struct (field i32)))
  (type $never-created (struct i32))

  (type $super-struct (struct i32))

  (type $sub-struct (struct i32 i64) (extends $super-struct))

  ;; CHECK:      (func $get
  ;; CHECK-NEXT:  (drop
  ;; CHECK-NEXT:   (block
  ;; CHECK-NEXT:    (drop
  ;; CHECK-NEXT:     (ref.null $never-created)
  ;; CHECK-NEXT:    )
  ;; CHECK-NEXT:    (unreachable)
  ;; CHECK-NEXT:   )
  ;; CHECK-NEXT:  )
  ;; CHECK-NEXT: )
  (func $get
    (drop
      ;; This type is never created, so a get is impossible, and we will emit a
      ;; trap.
      (struct.get $never-created 0
        (ref.null $never-created)
      )
    )
  )
)
