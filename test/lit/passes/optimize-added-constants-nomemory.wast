;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.

;; RUN: wasm-opt %s -all --optimize-added-constants --low-memory-unused -S -o - | filecheck %s

;; Check we do not error on modules with no memories, which the pass has
;; nothing to do on.

(module
  ;; CHECK:      (func $do-stuff-without-a-memory (type $0) (param $x i32) (result i32)
  ;; CHECK-NEXT:  (i32.add
  ;; CHECK-NEXT:   (local.get $x)
  ;; CHECK-NEXT:   (i32.const 42)
  ;; CHECK-NEXT:  )
  ;; CHECK-NEXT: )
  (func $do-stuff-without-a-memory (param $x i32) (result i32)
    (i32.add
      (local.get $x)
      (i32.const 42)
    )
  )
)
