;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.

;; RUN: foreach %s %t wasm-opt --inlining --optimize-level=3 --partial-inlining-ifs=1 --all-features -S -o - | filecheck %s

;; The function we partially inline here has an if, which we emit as flipped
;; afterwards. The new ifs should have flipped hints.

(module
 (func $func (param $0 i32)
  (@metadata.code.branch_hint "\01")
  (if
   (local.get $0)
   (then
    (return)
   )
  )
  (loop $l
   (unreachable)
  )
 )
 (func $caller
  (call $func
   (i32.const 0)
  )
  (call $func
   (i32.const 0)
  )
 )
)
