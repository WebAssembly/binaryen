;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.
;; RUN: wasm-opt %s --optimize-instructions -all -S -o - | filecheck %s

(module
 (memory $0 i64 16 17)

 (func $offsets
  ;; It is safe to combine the offset and constant here.
  (i64.store offset=4
   (i64.const 6)
   (i64.const 42)
  )
  ;; This would overflow, so do not optimize.
  (f32.store offset=4
   (i64.const -3)
   (f32.const 3.14159)
  )
 )
)

