;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.

;; RUN: foreach %s %t wasm-opt -all --string-lifting -S -o - | filecheck %s

(module
  (import "\'" "foo" (global $string_foo (ref extern)))
  (import "\'" "bar" (global $string_bar (ref extern)))

  (func $func
    (drop
      (global.get $string_foo)
    )
    ;; Test multiple uses of the same constant.
    (drop
      (global.get $string_bar)
    )
    (drop
      (global.get $string_bar)
    )
  )
)
