;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.
;; RUN: wasm-opt %s --rse --enable-gc-nn-locals -all -S -o - | filecheck %s

(module
 ;; CHECK:      (func $10
 ;; CHECK-NEXT:  (local $1 (ref func))
 ;; CHECK-NEXT:  (nop)
 ;; CHECK-NEXT: )
 (func $10
  ;; A non-nullable local. The pass should ignore it (as we cannot emit a zero
  ;; for it that we'd try to propagate to callers; in fact, it would be a bug
  ;; if the code referred to that value, as it must assign to the local before
  ;; reading from it, so there is nothing we can optimize anyhow).
  (local $1 (ref func))
 )
)
