;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.

;; Check that types that differ only in exactness are not merged.

;; RUN: wasm-opt %s -all --closed-world --preserve-type-order \
;; RUN:     --type-merging --remove-unused-types -S -o - | filecheck %s

(module
 ;; CHECK:      (rec
 ;; CHECK-NEXT:  (type $foo (struct))
 (type $foo (struct))
 ;; CHECK:       (type $A (struct (field (ref (exact $foo)))))
 (type $A (struct (field (ref (exact $foo)))))
 ;; CHECK:       (type $B (struct (field (ref $foo))))
 (type $B (struct (field (ref $foo))))

 ;; CHECK:      (global $a (ref null $A) (ref.null none))
 (global $a (ref null $A) (ref.null none))
 ;; CHECK:      (global $b (ref null $B) (ref.null none))
 (global $b (ref null $B) (ref.null none))
)
