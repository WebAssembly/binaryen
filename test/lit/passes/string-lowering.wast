;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.

;; RUN: foreach %s %t wasm-opt --string-lowering -all -S -o - | filecheck %s

(module
  (global $global (ref string) (string.const "foo"))

  (global $global2 (ref null string) (string.const "bar"))

  (func $a
    (drop
      (string.const "bar")
    )
    (drop
      (string.const "baz")
    )
  )

  (func $b ;; TODO params and results and tuples and what not
    (drop
      (string.const "bar")
    )
    (drop
      (string.const "other")
    )
    (drop
      (global.get $global)
    )
    (drop
      (global.get $global2)
    )
  )
)
