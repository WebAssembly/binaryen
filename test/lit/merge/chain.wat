;; NOTE: Assertions have been generated by update_lit_checks.py --all-items and should not be edited.
;; RUN: wasm-merge %s first %s.second second %s.third third --rename-export-conflicts -all -S -o - | filecheck %s

;; Test chains of imports / exports: the first module export a function,
;; which is reexported by the second and imported by the third.

(module
  (func (export "f"))
)
;; CHECK:      (type $none_=>_none (func))

;; CHECK:      (export "f" (func $0))

;; CHECK:      (export "g" (func $0))

;; CHECK:      (export "h" (func $0_2))

;; CHECK:      (func $0 (type $none_=>_none)
;; CHECK-NEXT:  (nop)
;; CHECK-NEXT: )

;; CHECK:      (func $0_2 (type $none_=>_none)
;; CHECK-NEXT:  (call $0)
;; CHECK-NEXT: )
