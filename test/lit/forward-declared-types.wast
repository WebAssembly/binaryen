;; NOTE: Assertions have been generated by update_lit_checks.py and should not be edited.
;; Test that types can be used before they are defined

;; RUN: wasm-opt %s -all -S -o - | filecheck %s
;; RUN: wasm-opt %s -all --nominal -S -o - | filecheck %s

(module
  ;; CHECK:      (type $func (func))

  ;; CHECK:      (type $struct (struct (field (ref $array)) (field (ref null $func))))
  (type $struct (struct
    (field (ref $array))
    (field (ref null $func))
  ))
  ;; CHECK:      (type $array (array (rtt 2 $func)))
  (type $array (array (field (rtt 2 $func))))
  (type $func (func))

  (func (result (ref null $struct))
    (unreachable)
  )
)
